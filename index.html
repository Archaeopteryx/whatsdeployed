<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>What's Deployed?</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <style>
    body {
      font-size: 1rem;
    }
    #error, #culprits-error {
      display: none;
      padding: 100px;
      color: red;
    }

    td a {
      padding-right: 5px;
    }

    #cloak {
      padding: 100px 0;
      height: 100%;
      width: 100%;
    }

    #cloak p {
      text-align: center;
    }

    a.resolved {
      text-decoration: line-through !important;
    }

    #culprits h4 {
      margin-top: 35px;
    }
    input.form-control.name {
      margin-top: 10px;
    }
    a {
      /*color: rgb(0, 123, 255); bootstrap 4 */
      color: rgb(51, 122, 183); /* bootstrap 3 */
    }
    td.checked {
      background: url('/static/check.png') no-repeat;
      background-position: center;
    }
    .media-body h5 {
      margin-bottom: 0;
    }
    img.avatar {
      border-radius: 3px; /* this is what GitHub uses */
    }
  </style>

  <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/static/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/static/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/static/manifest.json">
  <link rel="mask-icon" href="/static/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/static/favicon.ico">
  <meta name="msapplication-config" content="/static/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <meta name="apple-mobile-web-app-title" content="Whatsdeployed">
</head>

<body>

  <div class="container">

    <h2 class="text-center">What's Deployed?</h2>

    <div id="error" class="alert alert-danger" role="alert">
      <h3 class="alert-heading">Error ðŸ’”</h3>
      <p>

      </p>
      <hr>
      <button type="button" class="btn btn-danger reload">Reload Page</button>
    </div>

    <div id="cloak" class="text-center">
      <p>
        Loading loading loading...<span class="dots"></span>
      </p>
      <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
          role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
      </div>
    </div>

    <form role="form" style="display:none">
      <div class="form-group">
        <label>Owner</label>
        <input type="text" name="owner" class="form-control" id="owner" value="mozilla">
      </div>
      <div class="form-group">
        <label>Repo</label>
        <input type="text" name="repo" class="form-control" id="repo" placeholder="e.g. airmozilla">
      </div>
      <div class="form-group revisions">
        <label>Revision URLs</label>
        <input type="text" name="name[]" class="form-control name" placeholder="Dev">
        <input type="text" name="url[]" class="form-control url" placeholder="e.g. https://air-dev.allizom.org/media/revision or https://example.com/__version__">
      </div>
      <p>More rows: <a href="#" class="more"><i class="glyphicon glyphicon-plus"></i></a></p>
      <div>
        <button class="btn btn-primary">Make URL</button>
      </div>
    </form>

    <div id="table" style="display:none">
      <table class="table table-hover table-bordered table-sm">
        <thead>
          <tr id="deployments">
          </tr>
        </thead>
        <tbody id="commits">
        </tbody>
      </table>
      <p id="shorten" style="display:none;float:right">
        Short URL:
        <a></a>
      </p>

      <p id="cap" style="display:none" class="text-muted">Stopping as soon as all environments have a particular commit in common.</p>

      <dl class="dl-horizontal">
        <dt>Repo</dt>
        <dd class="repo"></dd>
        <dt class="urls">Using these URLs</dt>
      </dl>

      <div id="culprits" style="display:none">
        <h3 class="page-header" title="People who were engaged in the latest commit for each environment">&ldquo;Culprits&rdquo;</h3>

      </div>

      <div id="culprits-error" class="alert alert-danger" role="alert">
        <h3 class="alert-heading">Culprits Server Error ðŸ¤®</h3>
        <p>

        </p>
        <hr>
        <button type="button" class="btn btn-danger reload">Reload Page</button>
      </div>

    </div>

    <footer style="margin-top:40px">
      <p>
        <a href="https://www.peterbe.com/plog/whatsdeployed.io">about this service</a> &bull;
        <a href="https://github.com/peterbe/whatsdeployed">the code</a> &bull;
        <a href="https://github.com/peterbe/whatsdeployed/issues/new">problems?</a>
      </p>
    </footer>
  </div>
  <!-- /.container -->

  <script src="/static/js/jquery-3.2.1.min.js"></script>
  <script src="/static/js/main.js"></script>

</body>

</html>
